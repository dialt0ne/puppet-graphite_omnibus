#
# generated by puppet
# Module:   <%= scope.to_hash['module_name'] %>
# Template: <%= file %>
#
# For documentation see:
# http://graphite.readthedocs.org/en/latest/config-carbon.html#storage-aggregation-conf
# https://github.com/graphite-project/carbon/blob/master/conf/storage-aggregation.conf.example
#
<%
    #rules = scope.lookupvar('graphite_omnibus::config::storage_aggregation')
    rules = @storage_aggregation
    if rules
        rules.sort.each do |key, value| %>
[<%= key %>]
        <%- if value['pattern'] -%>
pattern = <%= value['pattern'] %>
        <%- end -%>
        <%- if value['factor'] -%>
xFilesFactor = <%= value['factor'] %>
        <%- end -%>
        <%- if value['method'] -%>
aggregationMethod = <%= value['method'] %>
        <%- end -%>

    <%- end -%>
<%- end -%>
